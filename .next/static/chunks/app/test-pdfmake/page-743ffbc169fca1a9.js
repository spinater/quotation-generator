(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1146],{1210:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),l=t(2115),r=t(6098),d=t(5131),n=t(8612);function i(){let[e,s]=(0,l.useState)("standard"),[t,i]=(0,l.useState)(n.OH),[c,o]=(0,l.useState)(!1),x="standard"===e?d.B5:d.r0,m=async function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o(!0);try{await (0,r.A_)(x,{download:s,filename:"test-pdfmake-".concat(e,".pdf"),watermark:"PDFMake TEST",fontFamily:t})}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Check console for details.")}finally{o(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"PDFMake Quotation Test"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Testing PDFMake with Thai fonts - Should fix postal code truncation issue"})]}),(0,a.jsxs)("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-green-900 mb-3",children:"✅ PDFMake Migration Complete"}),(0,a.jsxs)("div",{className:"space-y-2 text-green-800",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Solution:"})," Migrated from @react-pdf/renderer to PDFMake"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Expected Result:"})," Thai text and postal codes should render correctly without workarounds"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Why PDFMake?"})," Better Thai font support, mature library, widely used in production"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83C\uDF9B️ Test Configuration"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Test Scenario"}),(0,a.jsxs)("select",{value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"standard",children:"Standard Address (40000)"}),(0,a.jsx)("option",{value:"longAddress",children:"Long Address (12120)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Font Family"}),(0,a.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:n.OH,children:"Sarabun (Default)"}),(0,a.jsx)("option",{value:n.sD,children:"NotoSansThai"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCCB Test Data Preview"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Company Address:"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded border border-gray-200 font-mono",children:x.company.address}),(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Check if postal code at end is complete in PDF"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"Customer Address:"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded border border-gray-200 font-mono",children:x.customerAddress}),(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Critical test area - should show complete postal code"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCC4 Generate PDF"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors",children:c?"⏳ Generating...":"\uD83D\uDC41️ Open PDF (Preview)"}),(0,a.jsx)("button",{onClick:()=>m(!0),disabled:c,className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors",children:c?"⏳ Generating...":"⬇️ Download PDF"})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"\uD83D\uDCA1 Tip:"})," Download the PDF and open in a PDF reader (Adobe Reader, Preview, etc.) to inspect addresses carefully. Check if postal codes are complete (40000, 12120)."]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCCA Testing Checklist"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Company Address:"}),' Check if "40000" or "12120" appears complete (not "400" or "121")']})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Customer Address:"})," Same check for postal code"]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Thai Labels:"})," Check table headers (ลำดับ, รายการ, จำนวน, etc.) are complete"]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Long Thai Text:"})," Check item descriptions and notes render correctly"]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Font Comparison:"})," Test both Sarabun and NotoSansThai fonts"]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1 w-5 h-5"}),(0,a.jsxs)("label",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Layout:"})," Ensure overall document layout looks professional"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83C\uDFAF Expected Results with PDFMake"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold text-green-700 mb-2",children:"✅ Should Work:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{children:"Thai postal codes render completely (40000, not 400)"}),(0,a.jsx)("li",{children:"Thai text at line boundaries doesn't get cut off"}),(0,a.jsx)("li",{children:"No need for manual 2-space workaround"}),(0,a.jsx)("li",{children:"Better Thai font rendering overall"}),(0,a.jsx)("li",{children:"Consistent results across different PDF viewers"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold text-blue-700 mb-2",children:"\uD83D\uDD27 PDFMake Advantages:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{children:"Mature library specifically designed for business documents"}),(0,a.jsx)("li",{children:"Better multi-byte character support (Thai, Chinese, etc.)"}),(0,a.jsx)("li",{children:"More predictable text layout and line breaking"}),(0,a.jsx)("li",{children:"Widely used in production systems"}),(0,a.jsx)("li",{children:"Active maintenance and community support"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCC8 Before vs After"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aspect"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"@react-pdf/renderer"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PDFMake"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Thai Font Support"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-red-600",children:"❌ Issues with line breaks"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-green-600",children:"✅ Proper support"})]}),(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Postal Code Display"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-red-600",children:"❌ Truncated (40000 → 400)"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-green-600",children:"✅ Complete (40000)"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Workaround Needed"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-yellow-600",children:"⚠️ Manual 2-space"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-green-600",children:"✅ None"})]}),(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Code Structure"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:"React Components"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:"Document Definitions"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Maturity"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-yellow-600",children:"⚠️ Newer, less mature"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-green-600",children:"✅ Mature, proven"})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-yellow-900 mb-3",children:"\uD83D\uDCDD Next Steps"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-yellow-800",children:[(0,a.jsx)("li",{children:"Test the generated PDF - check postal codes are complete"}),(0,a.jsx)("li",{children:"Test with both font options (Sarabun and NotoSansThai)"}),(0,a.jsx)("li",{children:"Test both scenarios (Standard and Long Address)"}),(0,a.jsx)("li",{children:"If results are good, migrate Invoice and Receipt to PDFMake"}),(0,a.jsx)("li",{children:"Update production components to use PDFMake"}),(0,a.jsx)("li",{children:"Remove old @react-pdf/renderer dependencies (optional)"})]})]}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"\uD83E\uDDEA PDFMake Test Mode - Quotation Generator"}),(0,a.jsx)("p",{className:"mt-1",children:"Testing new PDF engine to fix Thai font rendering issues"})]})]})})}},1751:(e,s,t)=>{Promise.resolve().then(t.bind(t,1210))}},e=>{e.O(0,[3174,8441,1255,7358],()=>e(e.s=1751)),_N_E=e.O()}]);