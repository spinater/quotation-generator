"use strict";exports.id=811,exports.ids=[811],exports.modules={25799:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=c(82831),e=c(43740),f=c(29305),g=c(61981),h=c(26906),i=c(69168);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},29088:(a,b,c)=>{function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unauthorized",{enumerable:!0,get:function(){return d}}),c(98541).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},36247:(a,b,c)=>{c.d(b,{Vn:()=>function a(b){if(0===b)return"ศูนย์บาทถ้วน";if(b<0)return"ลบ"+a(Math.abs(b));let c=Math.floor(b),d=Math.round((b-c)*100),e="";return c>0&&(e=f(c)+"บาท"),d>0?e+=f(d)+"สตางค์":e+="ถ้วน",e}});let d=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],e=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"];function f(a){if(0===a)return"";if(a>=1e6){let b=Math.floor(a/1e6),c=a%1e6;return f(b)+"ล้าน"+f(c)}let b="",c=a.toString().split("").map(Number),g=c.length;for(let a=0;a<g;a++){let f=c[a],h=g-a;if(0!==f){if(2===h&&1===f&&2===g){b+="สิบ";continue}if(1===h&&1===f&&g>1){b+="เอ็ด";continue}if(2===h&&2===f){b+="ยี่สิบ";continue}b+=d[f],h>1&&h<=6&&(b+=e[h-1])}}return b}},40284:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},47614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getRedirectError:function(){return g},getRedirectStatusCodeFromError:function(){return l},getRedirectTypeFromError:function(){return k},getURLFromRedirectError:function(){return j},permanentRedirect:function(){return i},redirect:function(){return h}});let d=c(91203),e=c(92781),f=c(19121).actionAsyncStorage;function g(a,b,c){void 0===c&&(c=d.RedirectStatusCode.TemporaryRedirect);let f=Object.defineProperty(Error(e.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=e.REDIRECT_ERROR_CODE+";"+b+";"+a+";"+c+";",f}function h(a,b){var c;throw null!=b||(b=(null==f||null==(c=f.getStore())?void 0:c.isAction)?e.RedirectType.push:e.RedirectType.replace),g(a,b,d.RedirectStatusCode.TemporaryRedirect)}function i(a,b){throw void 0===b&&(b=e.RedirectType.replace),g(a,b,d.RedirectStatusCode.PermanentRedirect)}function j(a){return(0,e.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function k(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function l(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},55033:(a,b,c)=>{c.d(b,{z:()=>j});var d=c(21124),e=c(38301),f=c(42378),g=c(76180);let h=(0,c(23339).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var i=c(40284);let j=({documentType:a,documentId:b,documentNumber:c,onDeleteSuccess:j,onDeleteError:k})=>{let l=(0,f.useRouter)(),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(!1),q=async()=>{n(!0);try{let c=await fetch(`/api/${a}s/${b}`,{method:"DELETE"});if(!c.ok){let a=await c.json();throw Error(a.error||"Failed to delete document")}j&&j(),l.push(`/${a}`),l.refresh()}catch(c){console.error(`Error deleting ${a}:`,c);let b=c instanceof Error?c.message:"Failed to delete document";k?k(b):alert(b)}finally{n(!1),p(!1)}},r="quotation"===a?"ใบเสนอราคา":"invoice"===a?"ใบแจ้งหนี้":"ใบเสร็จรับเงิน";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("button",{onClick:()=>{l.push(`/${a}/${b}/edit`)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,d.jsx)(g.A,{className:"w-4 h-4"}),"✏️ Edit"]}),(0,d.jsx)("button",{onClick:()=>{p(!0)},disabled:m,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),"\uD83D\uDDD1️ Delete"]})})]}),o&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,d.jsx)(i.A,{className:"w-6 h-6 text-red-600"})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"ยืนยันการลบ / Confirm Delete"})]}),(0,d.jsxs)("p",{className:"text-gray-700 mb-2",children:["คุณแน่ใจหรือไม่ว่าต้องการลบ",r,"นี้?"]}),(0,d.jsxs)("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete this ",a,"?"]}),(0,d.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[(0,d.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:c}),(0,d.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"⚠️ การดำเนินการนี้ไม่สามารถย้อนกลับได้"}),(0,d.jsx)("p",{className:"text-xs text-yellow-700",children:"This action cannot be undone"})]}),(0,d.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,d.jsx)("button",{onClick:()=>{p(!1)},disabled:m,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"ยกเลิก / Cancel"}),(0,d.jsx)("button",{onClick:q,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 inline-flex items-center gap-2",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),"ลบ / Delete"]})})]})]})})]})}},64404:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"notFound",{enumerable:!0,get:function(){return e}});let d=""+c(98541).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function e(){let a=Object.defineProperty(Error(d),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=d,a}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},64712:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=c(25799).unstable_rethrow;("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},67837:(a,b,c)=>{function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"forbidden",{enumerable:!0,get:function(){return d}}),c(98541).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},70373:(a,b,c)=>{c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient({log:["error"]})},76180:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},82161:(a,b,c)=>{var d=c(93045);c.o(d,"notFound")&&c.d(b,{notFound:function(){return d.notFound}}),c.o(d,"redirect")&&c.d(b,{redirect:function(){return d.redirect}})},93045:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{ReadonlyURLSearchParams:function(){return k},RedirectType:function(){return e.RedirectType},forbidden:function(){return g.forbidden},notFound:function(){return f.notFound},permanentRedirect:function(){return d.permanentRedirect},redirect:function(){return d.redirect},unauthorized:function(){return h.unauthorized},unstable_isUnrecognizedActionError:function(){return l},unstable_rethrow:function(){return i.unstable_rethrow}});let d=c(47614),e=c(92781),f=c(64404),g=c(67837),h=c(29088),i=c(64712);class j extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class k extends URLSearchParams{append(){throw new j}delete(){throw new j}set(){throw new j}sort(){throw new j}}function l(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)}};