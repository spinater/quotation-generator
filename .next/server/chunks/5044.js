"use strict";exports.id=5044,exports.ids=[5044],exports.modules={38426:(a,b,c)=>{c.d(b,{InvoiceForm:()=>o});var d=c(21124),e=c(38301),f=c(42378),g=c(90145),h=c(85708);let i=(0,h.createServerReference)("40897318af1e0cb57035dd3b4b1394e88fd70024e9",h.callServer,void 0,h.findSourceMapURL,"createInvoice");var j=c(97489),k=c(8849),l=c(85351),m=c(59405),n=c(40284);function o({companies:a,defaultCompanyId:b,editMode:c=!1,initialData:h}){let o=(0,f.useRouter)(),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)({}),[t,u]=(0,e.useState)(new Set),[v,w]=(0,e.useState)(()=>!!(h?.signatureName||h?.signatureTitle||h?.signatureUrl)),[x,y]=(0,e.useState)(""),z=new Date,A=new Date(z);A.setDate(z.getDate()+30);let[B,C]=(0,e.useState)(()=>h?{...h,issueDate:"string"==typeof h.issueDate?h.issueDate:new Date(h.issueDate).toISOString().split("T")[0],dueDate:h.dueDate?"string"==typeof h.dueDate?h.dueDate:new Date(h.dueDate).toISOString().split("T")[0]:""}:{companyId:b||a[0]?.id||"",customerName:"",customerAddress:"",customerTaxId:"",customerPhone:"",issueDate:z.toISOString().split("T")[0],dueDate:A.toISOString().split("T")[0],items:[{id:crypto.randomUUID(),description:"",quantity:1,unit:"ชิ้น",pricePerUnit:0,amount:0,order:0,subItems:[]}],hasVat:!0,hasWithholdingTax:!1,withholdingTaxPercent:3,notes:"",language:"th",signatureUrl:"",signatureName:"",signatureTitle:""}),D=B.items.reduce((a,b)=>a+b.amount,0),E=B.hasVat?.07*D:0,F=D+E,G=B.hasWithholdingTax?D*(B.withholdingTaxPercent/100):0,H=F-G,I=(0,j.Vn)(H),J=(a,b)=>{C(c=>({...c,[a]:b}))},K=(a,b)=>{C(c=>({...c,[a]:b}))},L=(a,b,c)=>{C(d=>({...d,items:d.items.map(d=>{if(d.id===a){let a={...d,[b]:c};return("quantity"===b||"pricePerUnit"===b)&&(a.amount=a.quantity*a.pricePerUnit),a}return d})}))},M=(a,b,c,d)=>{C(e=>({...e,items:e.items.map(e=>e.id===a&&e.subItems?{...e,subItems:e.subItems.map(a=>{if(a.id===b){let b={...a,[c]:d};return("quantity"===c||"pricePerUnit"===c)&&(b.amount=b.quantity*b.pricePerUnit),b}return a})}:e)}))},N=async a=>{a.preventDefault(),q(!0),s({});try{let a={};if(B.companyId||(a.companyId="Please select a company"),B.customerName.trim()||(a.customerName="Customer name is required"),B.customerAddress.trim()||(a.customerAddress="Customer address is required"),0===B.items.length&&(a.items="At least one item is required"),Object.keys(a).length>0){s(a),q(!1);return}let b=await i({...B,issueDate:new Date(B.issueDate),dueDate:B.dueDate?new Date(B.dueDate):void 0,subtotal:D,vatAmount:E,total:F,withholdingTaxAmount:G,netTotal:H});b.success&&b.invoice?o.push(`/invoice/${b.invoice.id}`):s({submit:b.error||"Failed to create invoice"})}catch(a){console.error("Error submitting invoice:",a),s({submit:a instanceof Error?a.message:"An error occurred"})}finally{q(!1)}},O=a.find(a=>a.id===B.companyId),P=a.filter(a=>a.isIssuer),Q=a.filter(a=>a.isCustomer);return(0,d.jsxs)("form",{onSubmit:N,className:"space-y-8",children:[(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ข้อมูลบริษัท / Company Information"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(g.l6,{label:"บริษัท / Company",value:B.companyId,onChange:a=>{C(b=>({...b,companyId:a.target.value}))},required:!0,error:r.companyId,options:P.map(a=>({value:a.id,label:`${a.name}${a.isDefault?" (Default)":""}`}))}),O&&(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-sm",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:O.name}),O.nameEn&&(0,d.jsx)("p",{className:"text-gray-700",children:O.nameEn}),(0,d.jsxs)("p",{className:"text-gray-600 mt-2",children:["Tax ID: ",O.taxId]}),(0,d.jsx)("p",{className:"text-gray-600",children:O.address}),(0,d.jsxs)("p",{className:"text-gray-600",children:["Tel: ",O.phone]}),O.email&&(0,d.jsxs)("p",{className:"text-gray-600",children:["Email: ",O.email]})]})]})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ข้อมูลลูกค้า / Customer Information"}),Q.length>0&&(0,d.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,d.jsx)(g.l6,{label:"เลือกจากบริษัทลูกค้า / Select from Customer Companies (Optional)",value:x,onChange:b=>{let c=b.target.value;if(y(c),c){let b=a.find(a=>a.id===c);b&&C(a=>({...a,customerName:b.name,customerAddress:b.address,customerTaxId:b.taxId,customerPhone:b.phone}))}},options:[{value:"",label:"-- กรอกข้อมูลเอง / Manual Entry --"},...Q.map(a=>({value:a.id,label:a.name}))]}),(0,d.jsx)("p",{className:"text-sm text-blue-700 mt-2",children:"\uD83D\uDCA1 เลือกจากรายชื่อบริษัทลูกค้าที่บันทึกไว้ หรือกรอกข้อมูลด้านล่างเอง"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)(g.pd,{label:"ชื่อลูกค้า / Customer Name",value:B.customerName,onChange:a=>J("customerName",a.target.value),required:!0,error:r.customerName,placeholder:"บริษัท ABC จำกัด"}),(0,d.jsx)(g.pd,{label:"เลขประจำตัวผู้เสียภาษี / Tax ID (Optional)",value:B.customerTaxId,onChange:a=>J("customerTaxId",a.target.value),placeholder:"0123456789012"})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(g.fs,{label:"ที่อยู่ / Address",value:B.customerAddress,onChange:a=>J("customerAddress",a.target.value),required:!0,error:r.customerAddress,rows:3,placeholder:"123 ถนนสุขุมวิท แขวงคลองเตย เขตคลองเตย กรุงเทพฯ 10110"})}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(g.pd,{label:"เบอร์โทรศัพท์ / Phone (Optional)",value:B.customerPhone,onChange:a=>J("customerPhone",a.target.value),placeholder:"02-123-4567"})})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"รายละเอียดใบแจ้งหนี้ / Invoice Details"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)(g.pd,{type:"date",label:"วันที่ออกใบแจ้งหนี้ / Issue Date",value:"string"==typeof B.issueDate?B.issueDate:new Date(B.issueDate).toISOString().split("T")[0],onChange:a=>K("issueDate",a.target.value),required:!0}),(0,d.jsx)(g.pd,{type:"date",label:"วันครบกำหนดชำระ / Due Date (Optional)",value:B.dueDate?"string"==typeof B.dueDate?B.dueDate:new Date(B.dueDate).toISOString().split("T")[0]:"",onChange:a=>K("dueDate",a.target.value)})]})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"รายการสินค้า/บริการ / Items"}),(0,d.jsxs)(g.$n,{type:"button",onClick:()=>{let a={id:crypto.randomUUID(),description:"",quantity:1,unit:"ชิ้น",pricePerUnit:0,amount:0,order:B.items.length,subItems:[]};C(b=>({...b,items:[...b.items,a]}))},variant:"secondary",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"เพิ่มรายการ / Add Item"]})]}),r.items&&(0,d.jsx)("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:r.items}),(0,d.jsx)("div",{className:"space-y-4",children:B.items.map((a,b)=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("h3",{className:"font-medium text-gray-900",children:["Item ",b+1]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[a.subItems&&a.subItems.length>0&&(0,d.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void u(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},className:"text-gray-600 hover:text-gray-900",children:t.has(a.id)?(0,d.jsx)(l.A,{className:"w-5 h-5"}):(0,d.jsx)(m.A,{className:"w-5 h-5"})}),B.items.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void C(a=>({...a,items:a.items.filter(a=>a.id!==b)}))},className:"text-red-600 hover:text-red-800",children:(0,d.jsx)(n.A,{className:"w-5 h-5"})})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsx)(g.fs,{label:"รายละเอียด / Description",value:a.description,onChange:b=>L(a.id,"description",b.target.value),rows:2,placeholder:"รายละเอียดสินค้าหรือบริการ"}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,d.jsx)(g.pd,{type:"number",label:"จำนวน / Qty",value:a.quantity,onChange:b=>L(a.id,"quantity",parseFloat(b.target.value)||0),step:"0.01",min:"0"}),(0,d.jsx)(g.pd,{label:"หน่วย / Unit",value:a.unit,onChange:b=>L(a.id,"unit",b.target.value),placeholder:"ชิ้น"}),(0,d.jsx)(g.pd,{type:"number",label:"ราคา/หน่วย / Price",value:a.pricePerUnit,onChange:b=>L(a.id,"pricePerUnit",parseFloat(b.target.value)||0),step:"0.01",min:"0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"จำนวนเงิน / Amount"}),(0,d.jsxs)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-right font-medium",children:["฿",a.amount.toLocaleString("th-TH",{minimumFractionDigits:2})]})]})]})]}),t.has(a.id)&&a.subItems&&a.subItems.length>0&&(0,d.jsx)("div",{className:"mt-4 ml-6 space-y-3 border-l-2 border-gray-200 pl-4",children:a.subItems.map((b,c)=>(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Sub-item ",c+1]}),(0,d.jsx)("button",{type:"button",onClick:()=>{var c,d;return c=a.id,d=b.id,void C(a=>({...a,items:a.items.map(a=>a.id===c&&a.subItems?{...a,subItems:a.subItems.filter(a=>a.id!==d)}:a)}))},className:"text-red-600 hover:text-red-800",children:(0,d.jsx)(n.A,{className:"w-4 h-4"})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,d.jsx)(g.fs,{label:"รายละเอียด",value:b.description,onChange:c=>M(a.id,b.id,"description",c.target.value),rows:2}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,d.jsx)(g.pd,{type:"number",label:"จำนวน",value:b.quantity,onChange:c=>M(a.id,b.id,"quantity",parseFloat(c.target.value)||0),step:"0.01",min:"0"}),(0,d.jsx)(g.pd,{label:"หน่วย",value:b.unit,onChange:c=>M(a.id,b.id,"unit",c.target.value)}),(0,d.jsx)(g.pd,{type:"number",label:"ราคา/หน่วย",value:b.pricePerUnit,onChange:c=>M(a.id,b.id,"pricePerUnit",parseFloat(c.target.value)||0),step:"0.01",min:"0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"จำนวนเงิน"}),(0,d.jsxs)("div",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-right text-sm font-medium",children:["฿",b.amount.toLocaleString("th-TH",{minimumFractionDigits:2})]})]})]})]})]},b.id))}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsxs)("button",{type:"button",onClick:()=>{var b;return b=a.id,void C(a=>({...a,items:a.items.map(a=>{if(a.id===b){let b=a.subItems||[],c={id:crypto.randomUUID(),description:"",quantity:1,unit:"ชิ้น",pricePerUnit:0,amount:0,order:b.length,subItems:[]};return{...a,subItems:[...b,c]}}return a})}))},className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),"เพิ่ม Sub-item"]})})]},a.id))})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"สรุปยอดรวม / Summary"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:(0,d.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:B.hasVat,onChange:()=>{C(a=>({...a,hasVat:!a.hasVat}))},className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),(0,d.jsx)("span",{className:"ml-3 text-gray-900 font-medium",children:"รวม VAT 7% / Include VAT 7%"})]})}),(0,d.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,d.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:B.hasWithholdingTax,onChange:()=>{C(a=>({...a,hasWithholdingTax:!a.hasWithholdingTax}))},className:"w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,d.jsx)("span",{className:"ml-3 text-gray-900 font-medium",children:"หัก ณ ที่จ่าย / Withholding Tax"})]})}),B.hasWithholdingTax&&(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)(g.pd,{type:"number",label:"เปอร์เซ็นต์หัก ณ ที่จ่าย / Withholding Tax %",value:B.withholdingTaxPercent,onChange:a=>(a=>{let b=parseFloat(a)||0;C(a=>({...a,withholdingTaxPercent:b}))})(a.target.value),step:"0.01",min:"0",max:"100"}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["ยอดหัก ณ ที่จ่าย:"," ",(0,d.jsxs)("span",{className:"font-bold text-orange-600",children:["฿",G.toLocaleString("th-TH",{minimumFractionDigits:2})]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-3 text-lg",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-700",children:"ยอดรวม / Subtotal:"}),(0,d.jsxs)("span",{className:"font-semibold",children:["฿",D.toLocaleString("th-TH",{minimumFractionDigits:2})]})]}),B.hasVat&&(0,d.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,d.jsx)("span",{children:"VAT 7%:"}),(0,d.jsxs)("span",{children:["฿",E.toLocaleString("th-TH",{minimumFractionDigits:2})]})]}),(0,d.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-700",children:"ยอดรวมทั้งสิ้น / Total:"}),(0,d.jsxs)("span",{className:"font-bold text-xl",children:["฿",F.toLocaleString("th-TH",{minimumFractionDigits:2})]})]}),B.hasWithholdingTax&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between text-orange-600",children:[(0,d.jsxs)("span",{children:["หัก ณ ที่จ่าย ",B.withholdingTaxPercent,"%:"]}),(0,d.jsxs)("span",{className:"font-semibold",children:["-฿",G.toLocaleString("th-TH",{minimumFractionDigits:2})]})]}),(0,d.jsxs)("div",{className:"flex justify-between pt-2 border-t-2 border-gray-400 text-purple-700",children:[(0,d.jsx)("span",{className:"font-bold",children:"ยอดสุทธิ / Net Total:"}),(0,d.jsxs)("span",{className:"font-bold text-2xl",children:["฿",H.toLocaleString("th-TH",{minimumFractionDigits:2})]})]})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 pt-2 border-t border-gray-200",children:[(0,d.jsx)("span",{className:"font-medium",children:B.hasWithholdingTax?"ยอดสุทธิ (ตัวอักษร) / Net Total in Words:":"ยอดรวม (ตัวอักษร) / Total in Words:"}),(0,d.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:I})]})]})]})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsxs)(g.yj,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"หมายเหตุ / Notes (Optional)"}),(0,d.jsx)(g.fs,{value:B.notes,onChange:a=>C(b=>({...b,notes:a.target.value})),rows:4,placeholder:"เงื่อนไขการชำระเงิน หรือหมายเหตุเพิ่มเติม..."})]})}),(0,d.jsx)(g.Zp,{children:(0,d.jsx)(g.yj,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:(0,d.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:v,onChange:a=>{w(a.target.checked),a.target.checked||C(a=>({...a,signatureName:"",signatureTitle:"",signatureUrl:""}))},className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),(0,d.jsx)("span",{className:"ml-3 text-gray-900 font-medium",children:"ต้องการลายเซ็น / Require Signature"})]})}),v&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ลายเซ็น / Signature"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(g.JU,{htmlFor:"signatureName",children:"ชื่อผู้อนุมัติ / Approver Name"}),(0,d.jsx)(g.pd,{id:"signatureName",name:"signatureName",value:B.signatureName||"",onChange:a=>C(b=>({...b,signatureName:a.target.value})),placeholder:"นายสมชาย ใจดี"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.JU,{htmlFor:"signatureTitle",children:"ตำแหน่ง / Position"}),(0,d.jsx)(g.pd,{id:"signatureTitle",name:"signatureTitle",value:B.signatureTitle||"",onChange:a=>C(b=>({...b,signatureTitle:a.target.value})),placeholder:"ผู้จัดการ"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)(g.JU,{htmlFor:"signatureUrl",children:"URL ลายเซ็น / Signature URL"}),(0,d.jsx)(g.pd,{id:"signatureUrl",name:"signatureUrl",value:B.signatureUrl||"",onChange:a=>C(b=>({...b,signatureUrl:a.target.value})),placeholder:"https://example.com/signature.png"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"ใส่ URL ของรูปลายเซ็น (ถ้ามี) / Enter signature image URL (if available)"})]})]})]})]})})}),r.submit&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-red-600",children:r.submit})}),(0,d.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,d.jsx)(g.$n,{type:"button",variant:"secondary",onClick:()=>o.back(),disabled:p,children:"ยกเลิก / Cancel"}),(0,d.jsx)(g.$n,{type:"submit",disabled:p,isLoading:p,children:p?"กำลังบันทึก...":c?"บันทึกการแก้ไข / Save Changes":"สร้างใบแจ้งหนี้ / Create Invoice"})]})]})}},43693:(a,b,c)=>{c.d(b,{p:()=>e});var d=c(21124);function e({label:a,error:b,helperText:c,required:e,className:f="",id:g,...h}){let i=g||`input-${a?.toLowerCase().replace(/\s+/g,"-")}`,j=`
    w-full px-3 py-2 border rounded-lg
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    ${b?"border-red-500 focus:ring-red-500":"border-gray-300"}
    ${f}
  `.trim().replace(/\s+/g," ");return(0,d.jsxs)("div",{className:"w-full",children:[a&&(0,d.jsxs)("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:[a,e&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsx)("input",{id:i,className:j,"aria-invalid":b?"true":"false","aria-describedby":b?`${i}-error`:c?`${i}-helper`:void 0,...h}),b&&(0,d.jsx)("p",{id:`${i}-error`,className:"mt-1 text-sm text-red-600",children:b}),!b&&c&&(0,d.jsx)("p",{id:`${i}-helper`,className:"mt-1 text-sm text-gray-500",children:c})]})}c(38301)},46737:(a,b,c)=>{c.d(b,{$:()=>e});var d=c(21124);function e({variant:a="primary",size:b="md",isLoading:c=!1,children:e,className:f="",disabled:g,...h}){let i=`inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 border border-gray-300"})[a]} ${({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"})[b]} ${f}`.trim();return(0,d.jsx)("button",{className:i,disabled:g||c,...h,children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e})}c(38301)},63287:(a,b,c)=>{c.d(b,{f:()=>e});var d=c(21124);function e({label:a,error:b,helperText:c,required:e,className:f="",id:g,...h}){let i=g||`textarea-${a?.toLowerCase().replace(/\s+/g,"-")}`,j=`
    w-full px-3 py-2 border rounded-lg
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    ${b?"border-red-500 focus:ring-red-500":"border-gray-300"}
    ${f}
  `.trim().replace(/\s+/g," ");return(0,d.jsxs)("div",{className:"w-full",children:[a&&(0,d.jsxs)("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:[a,e&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsx)("textarea",{id:i,className:j,"aria-invalid":b?"true":"false","aria-describedby":b?`${i}-error`:c?`${i}-helper`:void 0,...h}),b&&(0,d.jsx)("p",{id:`${i}-error`,className:"mt-1 text-sm text-red-600",children:b}),!b&&c&&(0,d.jsx)("p",{id:`${i}-helper`,className:"mt-1 text-sm text-gray-500",children:c})]})}c(38301)},70373:(a,b,c)=>{c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient({log:["error"]})},71759:(a,b,c)=>{c.d(b,{J:()=>e});var d=c(21124);function e({className:a="",children:b,...c}){return(0,d.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${a}`.trim(),...c,children:b})}c(38301)},90145:(a,b,c)=>{c.d(b,{$n:()=>d.$,Zp:()=>i,yj:()=>j,pd:()=>e.p,JU:()=>k.J,l6:()=>g,fs:()=>h.f});var d=c(46737),e=c(43693),f=c(21124);function g({label:a,error:b,helperText:c,required:d,options:e,placeholder:g,className:h="",id:i,...j}){let k=i||`select-${a?.toLowerCase().replace(/\s+/g,"-")}`,l=`
    w-full px-3 py-2 border rounded-lg
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    ${b?"border-red-500 focus:ring-red-500":"border-gray-300"}
    ${h}
  `.trim().replace(/\s+/g," ");return(0,f.jsxs)("div",{className:"w-full",children:[a&&(0,f.jsxs)("label",{htmlFor:k,className:"block text-sm font-medium text-gray-700 mb-1",children:[a,d&&(0,f.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,f.jsxs)("select",{id:k,className:l,"aria-invalid":b?"true":"false","aria-describedby":b?`${k}-error`:c?`${k}-helper`:void 0,...j,children:[g&&(0,f.jsx)("option",{value:"",disabled:!0,children:g}),e.map(a=>(0,f.jsx)("option",{value:a.value,children:a.label},a.value))]}),b&&(0,f.jsx)("p",{id:`${k}-error`,className:"mt-1 text-sm text-red-600",children:b}),!b&&c&&(0,f.jsx)("p",{id:`${k}-helper`,className:"mt-1 text-sm text-gray-500",children:c})]})}c(38301);var h=c(63287);function i({children:a,className:b="",padding:c="md",title:d,subtitle:e,headerAction:g}){let h=`
    bg-white rounded-lg border border-gray-200 shadow-sm
    ${b}
  `.trim().replace(/\s+/g," ");return(0,f.jsxs)("div",{className:h,children:[(d||e||g)&&(0,f.jsx)("div",{className:`border-b border-gray-200 ${"none"!==c?"px-6 py-4":""}`,children:(0,f.jsxs)("div",{className:"flex items-start justify-between",children:[(0,f.jsxs)("div",{children:[d&&(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d}),e&&(0,f.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),g&&(0,f.jsx)("div",{className:"ml-4 flex-shrink-0",children:g})]})}),(0,f.jsx)("div",{className:{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[c],children:a})]})}function j({children:a,className:b="",title:c}){return(0,f.jsxs)("div",{className:`space-y-4 ${b}`.trim(),children:[c&&(0,f.jsx)("h4",{className:"text-md font-medium text-gray-900",children:c}),a]})}var k=c(71759)},96201:(a,b,c)=>{c.d(b,{InvoiceForm:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call InvoiceForm() from the server but InvoiceForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gab_mbam4/Documents/rocketlab/quotation-generator/components/InvoiceForm.tsx","InvoiceForm")},97489:(a,b,c)=>{c.d(b,{Vn:()=>f,hj:()=>h});let d=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],e=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"];function f(a){if(0===a)return"ศูนย์บาทถ้วน";if(a<0)return"ลบ"+f(Math.abs(a));let b=Math.floor(a),c=Math.round((a-b)*100),d="";return b>0&&(d=g(b)+"บาท"),c>0?d+=g(c)+"สตางค์":d+="ถ้วน",d}function g(a){if(0===a)return"";if(a>=1e6){let b=Math.floor(a/1e6),c=a%1e6;return g(b)+"ล้าน"+g(c)}let b="",c=a.toString().split("").map(Number),f=c.length;for(let a=0;a<f;a++){let g=c[a],h=f-a;if(0!==g){if(2===h&&1===g&&2===f){b+="สิบ";continue}if(1===h&&1===g&&f>1){b+="เอ็ด";continue}if(2===h&&2===g){b+="ยี่สิบ";continue}b+=d[g],h>1&&h<=6&&(b+=e[h-1])}}return b}function h(a){return`(${f(a)})`}}};